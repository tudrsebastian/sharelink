import{k as se,q as re,l as ie,m as le,n as ce,e as ue}from"../chunks/firebase.b7e54b21.js";import{H as me}from"../chunks/control.f5b05b5f.js";import{s as de,G as fe,g as P,c as U,l as G,B as he,h as E,d as C,i as A,m as z,z as _e,k as j,C as X,H as pe}from"../chunks/scheduler.1005fe53.js";import{S as ge,i as ve,d as J,q as Y,v as be,e as w,g as d,n as f,a as Z,s as ee,b as H,c as we,t as D,j as ke,k as ye,m as Pe,l as Ee,h as je}from"../chunks/index.9d1d7535.js";import{U as ae,g as xe,a as Le}from"../chunks/UserLink.e9b7200e.js";import{A as Re}from"../chunks/AuthCheck.3770d72f.js";function te(a,e){if(isNaN(a)||a<400||a>599)throw new Error(`HTTP error status codes must be between 400 and 599 â€” ${a} is invalid`);return new me(a,e)}new TextEncoder;const Se=async({params:a})=>{var s,o;const e=se(ue,"users"),c=re(e,le("username","==",a.username),ie(1)),u=await ce(c),h=(s=u.docs[0])==null?void 0:s.exists(),t=(o=u.docs[0])==null?void 0:o.data();if(!h)throw te(404,"that user does not exist!");if(!t.published)throw te(403,`The profile of @${t.username} is not public!`);return{username:t.username,photoURL:t.photoURL,bio:t.bio,links:t.links??[]}},$e=Object.freeze(Object.defineProperty({__proto__:null,load:Se},Symbol.toStringTag,{value:"Module"})),x="G:/PersonalProjects/myapp/src/routes/[username]/+page.svelte";function ne(a,e,c){const u=a.slice();return u[1]=e[c],u}function I(a){let e,c;const u=[a[1]];let h={};for(let s=0;s<u.length;s+=1)h=fe(h,u[s]);e=new ae({props:h,$$inline:!0});const t={c:function(){ke(e.$$.fragment)},l:function(o){ye(e.$$.fragment,o)},m:function(o,p){Pe(e,o,p),c=!0},p:function(o,p){const L=p&1?xe(u,[Le(o[1])]):{};e.$set(L)},i:function(o){c||(H(e.$$.fragment,o),c=!0)},o:function(o){D(e.$$.fragment,o),c=!1},d:function(o){Ee(e,o)}};return J("SvelteRegisterBlock",{block:t,id:I.name,type:"each",source:"(24:4) {#each data.links as item}",ctx:a}),t}function F(a){let e,c,u,h,t,s,o,p=a[0].username+"",L,M,_,q,$,k,S=(a[0].bio??"no bio yet...")+"",T,B,b,N,g,K="Make your own ShareLink profile",v;document.title=e="@"+a[0].username+" Links";let y=Y(a[0].links),r=[];for(let m=0;m<y.length;m+=1)r[m]=I(ne(a,y,m));const oe=m=>D(r[m],1,1,()=>{r[m]=null}),Q={c:function(){c=P("meta"),h=U(),t=P("main"),s=P("h1"),o=G("@"),L=G(p),M=U(),_=P("img"),$=U(),k=P("p"),T=G(S),B=U(),b=P("ul");for(let i=0;i<r.length;i+=1)r[i].c();N=U(),g=P("a"),g.textContent=K,this.h()},l:function(i){const l=he("svelte-1ui6vuc",document.head);c=E(l,"META",{name:!0,content:!0}),l.forEach(w),h=C(i),t=E(i,"MAIN",{class:!0});var n=A(t);s=E(n,"H1",{class:!0});var R=A(s);o=z(R,"@"),L=z(R,p),R.forEach(w),M=C(n),_=E(n,"IMG",{src:!0,alt:!0,width:!0,class:!0}),$=C(n),k=E(n,"P",{class:!0});var V=A(k);T=z(V,S),V.forEach(w),B=C(n),b=E(n,"UL",{class:!0});var W=A(b);for(let O=0;O<r.length;O+=1)r[O].l(W);W.forEach(w),N=C(n),g=E(n,"A",{href:!0,class:!0,"data-svelte-h":!0}),_e(g)!=="svelte-t2p1vv"&&(g.textContent=K),n.forEach(w),this.h()},h:function(){d(c,"name","description"),d(c,"content",u=a[0].bio),j(c,x,10,2,220),d(s,"class","text-7xl text-purple-500"),j(s,x,14,2,335),X(_.src,q=a[0].photoURL??"/user.png")||d(_,"src",q),d(_,"alt","photoURL"),d(_,"width","256"),d(_,"class","mx-auto"),j(_,x,18,2,409),d(k,"class","text-xl my-8"),j(k,x,24,2,521),d(b,"class","list-none"),j(b,x,25,2,582),d(g,"href","/login"),d(g,"class","btn btn-primary mt-24"),j(g,x,30,2,692),d(t,"class","prose text-center mx-auto mt-8"),j(t,x,13,0,286)},m:function(i,l){f(document.head,c),Z(i,h,l),Z(i,t,l),f(t,s),f(s,o),f(s,L),f(t,M),f(t,_),f(t,$),f(t,k),f(k,T),f(t,B),f(t,b);for(let n=0;n<r.length;n+=1)r[n]&&r[n].m(b,null);f(t,N),f(t,g),v=!0},p:function(i,[l]){if((!v||l&1)&&e!==(e="@"+i[0].username+" Links")&&(document.title=e),(!v||l&1&&u!==(u=i[0].bio))&&d(c,"content",u),(!v||l&1)&&p!==(p=i[0].username+"")&&ee(L,p),(!v||l&1&&!X(_.src,q=i[0].photoURL??"/user.png"))&&d(_,"src",q),(!v||l&1)&&S!==(S=(i[0].bio??"no bio yet...")+"")&&ee(T,S),l&1){y=Y(i[0].links);let n;for(n=0;n<y.length;n+=1){const R=ne(i,y,n);r[n]?(r[n].p(R,l),H(r[n],1)):(r[n]=I(R),r[n].c(),H(r[n],1),r[n].m(b,null))}for(je(),n=y.length;n<r.length;n+=1)oe(n);we()}},i:function(i){if(!v){for(let l=0;l<y.length;l+=1)H(r[l]);v=!0}},o:function(i){r=r.filter(Boolean);for(let l=0;l<r.length;l+=1)D(r[l]);v=!1},d:function(i){i&&(w(h),w(t)),w(c),pe(r,i)}};return J("SvelteRegisterBlock",{block:Q,id:F.name,type:"component",source:"",ctx:a}),Q}function Ue(a,e,c){let{$$slots:u={},$$scope:h}=e;be("Page",u,[]);let{data:t}=e;a.$$.on_mount.push(function(){t===void 0&&!("data"in e||a.$$.bound[a.$$.props.data])&&console.warn("<Page> was created without expected prop 'data'")});const s=["data"];return Object.keys(e).forEach(o=>{!~s.indexOf(o)&&o.slice(0,2)!=="$$"&&o!=="slot"&&console.warn(`<Page> was created with unknown prop '${o}'`)}),a.$$set=o=>{"data"in o&&c(0,t=o.data)},a.$capture_state=()=>({AuthCheck:Re,UserLink:ae,data:t}),a.$inject_state=o=>{"data"in o&&c(0,t=o.data)},e&&"$$inject"in e&&a.$inject_state(e.$$inject),[t]}class Be extends ge{constructor(e){super(e),ve(this,e,Ue,F,de,{data:0}),J("SvelteRegisterComponent",{component:this,tagName:"Page",options:e,id:F.name})}get data(){throw new Error("<Page>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set data(e){throw new Error("<Page>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}export{Be as component,$e as universal};
