import{s as _t,v as mt,r as ft,g as p,l as N,c as F,h,i as E,m as M,d as R,z as pt,k as b,I as gt,w as ht}from"../chunks/scheduler.1005fe53.js";import{S as wt,i as yt,d as bt,v as Et,e as g,g as m,a as Pt,n,s as Z,r as xt}from"../chunks/index.9d1d7535.js";import{p as $}from"../chunks/stores.d3914c1a.js";import{p as At}from"../chunks/parse.bee59afc.js";import{j as Tt,k as kt}from"../chunks/singletons.f09b62c9.js";import{u as tt}from"../chunks/firebase.b7e54b21.js";const Ct=Tt("invalidate_all");function St(t){return kt.apply_action(t)}function jt(t){const e=JSON.parse(t);return e.data&&(e.data=At(e.data)),e}function Y(t,e,s){console.warn(`\`${t}\` has been deprecated in favor of \`${e}\`. \`${t}\` will be removed in a future version. (Called from ${s})`)}function G(t){return HTMLElement.prototype.cloneNode.call(t)}function vt(t,e=()=>{}){if(G(t).method!=="post")throw new Error('use:enhance can only be used on <form> fields with method="POST"');const s=async({action:a,result:l,reset:f})=>{l.type==="success"&&(f!==!1&&HTMLFormElement.prototype.reset.call(t),await Ct()),(location.origin+location.pathname===a.origin+a.pathname||l.type==="redirect"||l.type==="error")&&St(l)};async function w(a){var A,j,D,u;if(((A=a.submitter)!=null&&A.hasAttribute("formmethod")?a.submitter.formMethod:G(t).method)!=="post")return;a.preventDefault();const f=new URL((j=a.submitter)!=null&&j.hasAttribute("formaction")?a.submitter.formAction:G(t).action),_=new FormData(t);if(G(t).enctype!=="multipart/form-data"){for(const r of _.values())if(r instanceof File){console.warn('Your form contains <input type="file"> fields, but is missing the `enctype="multipart/form-data"` attribute. This will lead to inconsistent behavior between enhanced and native forms. For more details, see https://github.com/sveltejs/kit/issues/9819. This will be upgraded to an error in v2.0.');break}}const i=(D=a.submitter)==null?void 0:D.getAttribute("name");i&&_.append(i,((u=a.submitter)==null?void 0:u.getAttribute("value"))??"");const x=new AbortController;let o=!1;const U=await e({action:f,cancel:()=>o=!0,controller:x,get data(){return Y("data","formData","use:enhance submit function"),_},formData:_,get form(){return Y("form","formElement","use:enhance submit function"),t},formElement:t,submitter:a.submitter})??s;if(o)return;let d;try{const r=await fetch(f,{method:"POST",headers:{accept:"application/json","x-sveltekit-action":"true"},cache:"no-store",body:_,signal:x.signal});d=jt(await r.text()),d.type==="error"&&(d.status=r.status)}catch(r){if((r==null?void 0:r.name)==="AbortError")return;d={type:"error",error:r}}U({action:f,get data(){return Y("data","formData","callback returned from use:enhance submit function"),_},formData:_,get form(){return Y("form","formElement","callback returned from use:enhance submit function"),t},formElement:t,update:r=>s({action:f,result:d,reset:r==null?void 0:r.reset}),result:d})}return HTMLFormElement.prototype.addEventListener.call(t,"submit",w),{destroy(){HTMLFormElement.prototype.removeEventListener.call(t,"submit",w)}}}const v="G:/PersonalProjects/myapp/src/routes/[username]/bio/+page.svelte";function et(t){var st;let e,s,w,a,l=t[0].bio+"",f,_,i,x,o=t[2].status+"",H,U,d,A=(((st=t[2].form)==null?void 0:st.problem)??"")+"",j,D,u,r,T,k,at="Your bio",J,P,q,V,C,ot="Update Bio",X,B,S,K,Q,nt;const rt={c:function(){e=p("main"),s=p("p"),w=N("Current Bio: "),a=p("span"),f=N(l),_=F(),i=p("p"),x=N("Status Code: "),H=N(o),U=F(),d=p("p"),j=N(A),D=F(),u=p("form"),r=p("div"),T=p("label"),k=p("span"),k.textContent=at,J=F(),P=p("textarea"),V=F(),C=p("button"),C.textContent=ot,X=F(),B=p("button"),S=p("a"),K=N("Back to profile"),this.h()},l:function(y){e=h(y,"MAIN",{class:!0});var c=E(e);s=h(c,"P",{});var L=E(s);w=M(L,"Current Bio: "),a=h(L,"SPAN",{class:!0});var it=E(a);f=M(it,l),it.forEach(g),L.forEach(g),_=R(c),i=h(c,"P",{});var W=E(i);x=M(W,"Status Code: "),H=M(W,o),W.forEach(g),U=R(c),d=h(c,"P",{class:!0});var ct=E(d);j=M(ct,A),ct.forEach(g),D=R(c),u=h(c,"FORM",{method:!0});var O=E(u);r=h(O,"DIV",{class:!0});var z=E(r);T=h(z,"LABEL",{for:!0,class:!0});var lt=E(T);k=h(lt,"SPAN",{class:!0,"data-svelte-h":!0}),pt(k)!=="svelte-270kv4"&&(k.textContent=at),lt.forEach(g),J=R(z),P=h(z,"TEXTAREA",{name:!0,class:!0}),E(P).forEach(g),z.forEach(g),V=R(O),C=h(O,"BUTTON",{class:!0,"data-svelte-h":!0}),pt(C)!=="svelte-tqnit3"&&(C.textContent=ot),X=R(O),B=h(O,"BUTTON",{class:!0});var ut=E(B);S=h(ut,"A",{href:!0});var dt=E(S);K=M(dt,"Back to profile"),dt.forEach(g),ut.forEach(g),O.forEach(g),c.forEach(g),this.h()},h:function(){m(a,"class","text-info"),b(a,v,11,18,282),b(s,v,11,2,266),b(i,v,13,2,333),m(d,"class","text-error"),b(d,v,14,2,371),m(k,"class","label-text"),b(k,v,19,8,543),m(T,"for","bio"),m(T,"class","label"),b(T,v,18,6,502),m(P,"name","bio"),m(P,"class","textarea textarea-bordered textarea-accent"),P.value=q=t[0].bio,b(P,v,21,6,607),m(r,"class","form-control"),b(r,v,17,4,468),m(C,"class","btn btn-primary my-5"),b(C,v,27,4,750),m(S,"href",t[1]),b(S,v,28,41,849),m(B,"class","btn btn-primary my-5"),b(B,v,28,4,812),m(u,"method","POST"),b(u,v,16,2,430),m(e,"class","max-w-lg prose text-center mx-auto my-6"),b(e,v,10,0,208)},m:function(y,c){Pt(y,e,c),n(e,s),n(s,w),n(s,a),n(a,f),n(e,_),n(e,i),n(i,x),n(i,H),n(e,U),n(e,d),n(d,j),n(e,D),n(e,u),n(u,r),n(r,T),n(T,k),n(r,J),n(r,P),n(u,V),n(u,C),n(u,X),n(u,B),n(B,S),n(S,K),Q||(nt=gt(vt.call(null,u)),Q=!0)},p:function(y,[c]){var L;c&1&&l!==(l=y[0].bio+"")&&Z(f,l),c&4&&o!==(o=y[2].status+"")&&Z(H,o),c&4&&A!==(A=(((L=y[2].form)==null?void 0:L.problem)??"")+"")&&Z(j,A),c&1&&q!==(q=y[0].bio)&&xt(P,"value",q),c&2&&m(S,"href",y[1])},i:ht,o:ht,d:function(y){y&&g(e),Q=!1,nt()}};return bt("SvelteRegisterBlock",{block:rt,id:et.name,type:"component",source:"",ctx:t}),rt}function Bt(t,e,s){let w,a,l;mt(tt,"userData"),ft(t,tt,o=>s(3,a=o)),mt($,"page"),ft(t,$,o=>s(2,l=o));let{$$slots:f={},$$scope:_}=e;Et("Page",f,[]);let{data:i}=e;t.$$.on_mount.push(function(){i===void 0&&!("data"in e||t.$$.bound[t.$$.props.data])&&console.warn("<Page> was created without expected prop 'data'")});const x=["data"];return Object.keys(e).forEach(o=>{!~x.indexOf(o)&&o.slice(0,2)!=="$$"&&o!=="slot"&&console.warn(`<Page> was created with unknown prop '${o}'`)}),t.$$set=o=>{"data"in o&&s(0,i=o.data)},t.$capture_state=()=>({page:$,enhance:vt,userData:tt,data:i,href:w,$userData:a,$page:l}),t.$inject_state=o=>{"data"in o&&s(0,i=o.data),"href"in o&&s(1,w=o.href)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),t.$$.update=()=>{t.$$.dirty&8&&s(1,w=`/${a==null?void 0:a.username}/edit`)},[i,w,l,a]}class Rt extends wt{constructor(e){super(e),yt(this,e,Bt,et,_t,{data:0}),bt("SvelteRegisterComponent",{component:this,tagName:"Page",options:e,id:et.name})}get data(){throw new Error("<Page>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set data(e){throw new Error("<Page>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}export{Rt as component};
