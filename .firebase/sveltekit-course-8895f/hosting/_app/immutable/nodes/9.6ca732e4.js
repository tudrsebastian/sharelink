import{w as K,J as ee,K as ne,s as Ft,L as Et,e as st,n as se,g as C,h as S,z as G,k as L,i as A,c as V,d as x,A as Tt,E as ft,u as oe,p as le,q as ie,F as yt,v as Z,r as $,M as ae,G as re,l as ot,m as lt,y as ce,N as Dt,D as Q,H as ue}from"../chunks/scheduler.1005fe53.js";import{u as fe,w as de,x as me,y as he,S as Mt,i as zt,d as U,v as qt,a as I,h as vt,t as H,c as wt,b as q,e as k,q as it,z as Ot,g,A as _e,n as O,p as z,B as pe,j as Ct,k as St,m as Lt,l as Bt,r as be}from"../chunks/index.9d1d7535.js";import{U as Gt,g as ge,a as ke}from"../chunks/UserLink.e9b7200e.js";import{p as at}from"../chunks/stores.d3914c1a.js";import{c as ye}from"../chunks/index.40b40403.js";import{e as tt,u as rt,b as ct,a as It,c as Pt,o as Nt,p as jt,f as et,t as Ut,g as ut}from"../chunks/firebase.b7e54b21.js";import{w as Vt}from"../chunks/index.8d61a749.js";import{A as Ht}from"../chunks/AuthCheck.3770d72f.js";function ve(n,t,e,l){if(!t)return K;const s=n.getBoundingClientRect();if(t.left===s.left&&t.right===s.right&&t.top===s.top&&t.bottom===s.bottom)return K;const{delay:o=0,duration:i=300,easing:d=ee,start:c=fe()+o,end:u=c+i,tick:r=K,css:h}=e(n,{from:t,to:s},l);let _=!0,f=!1,a;function m(){h&&(a=me(n,0,1,i,o,d,h)),o||(f=!0)}function p(){h&&he(n,a),_=!1}return de(w=>{if(!f&&w>=c&&(f=!0),f&&w>=u&&(r(1,0),p()),!_)return!1;if(f){const y=w-c,B=0+1*d(y/i);r(B,1-B)}return!0}),m(),r(0,1),p}function we(n){const t=getComputedStyle(n);if(t.position!=="absolute"&&t.position!=="fixed"){const{width:e,height:l}=t,s=n.getBoundingClientRect();n.style.position="absolute",n.style.width=e,n.style.height=l,Ce(n,s)}}function Ce(n,t){const e=n.getBoundingClientRect();if(t.left!==e.left||t.top!==e.top){const l=getComputedStyle(n),s=l.transform==="none"?"":l.transform;n.style.transform=`${s} translate(${t.left-e.left}px, ${t.top-e.top}px)`}}function Jt(n,{from:t,to:e},l={}){const s=getComputedStyle(n),o=s.transform==="none"?"":s.transform,[i,d]=s.transformOrigin.split(" ").map(parseFloat),c=t.left+t.width*i/e.width-(e.left+i),u=t.top+t.height*d/e.height-(e.top+d),{delay:r=0,duration:h=f=>Math.sqrt(f)*120,easing:_=ye}=l;return{delay:r,duration:ne(h)?h(Math.sqrt(c*c+u*u)):h,easing:_,css:(f,a)=>{const m=a*c,p=a*u,w=f+a*t.width/e.width,y=f+a*t.height/e.height;return`transform: ${o} translate(${m}px, ${p}px) scale(${w}, ${y});`}}}const Rt="G:/PersonalProjects/myapp/src/lib/components/SortableList.svelte";function nt(n,t,e){const l=n.slice();return l[9]=t[e],l[11]=e,l}const Se=n=>({item:n&1,index:n&1}),xt=n=>({item:n[9],index:n[11]});function Kt(n){let t,e="No items";const l={c:function(){t=C("p"),t.textContent=e,this.h()},l:function(o){t=S(o,"P",{class:!0,"data-svelte-h":!0}),G(t)!=="svelte-1jmwi8z"&&(t.textContent=e),this.h()},h:function(){g(t,"class","text-center my-12 text-lg font-bold"),L(t,Rt,72,2,1726)},m:function(o,i){I(o,t,i)},p:K,i:K,o:K,d:function(o){o&&k(t)}};return U("SvelteRegisterBlock",{block:l,id:Kt.name,type:"else",source:"(60:0) {:else}",ctx:n}),l}function Wt(n){let t,e=[],l=new Map,s,o=it(n[0]);const i=c=>c[9].id;Ot(n,o,nt,i);for(let c=0;c<o.length;c+=1){let u=nt(n,o,c),r=i(u);l.set(r,e[c]=dt(r,u))}const d={c:function(){t=C("ul");for(let u=0;u<e.length;u+=1)e[u].c();this.h()},l:function(u){t=S(u,"UL",{class:!0});var r=A(t);for(let h=0;h<e.length;h+=1)e[h].l(r);r.forEach(k),this.h()},h:function(){g(t,"class","list-none p-0 flex flex-col items-center"),L(t,Rt,53,2,1109)},m:function(u,r){I(u,t,r);for(let h=0;h<e.length;h+=1)e[h]&&e[h].m(t,null);s=!0},p:function(u,r){if(r&63){o=it(u[0]),vt();for(let h=0;h<e.length;h+=1)e[h].r();Ot(u,o,nt,i),e=_e(e,r,i,1,u,o,l,t,pe,dt,null,nt);for(let h=0;h<e.length;h+=1)e[h].a();wt()}},i:function(u){if(!s){for(let r=0;r<o.length;r+=1)q(e[r]);s=!0}},o:function(u){for(let r=0;r<e.length;r+=1)H(e[r]);s=!1},d:function(u){u&&k(t);for(let r=0;r<e.length;r+=1)e[r].d()}};return U("SvelteRegisterBlock",{block:d,id:Wt.name,type:"if",source:"(41:0) {#if list?.length}",ctx:n}),d}function dt(n,t){let e,l,s,o,i,d=K,c,u,r;const h=t[6].default,_=se(h,t,t[5],xt),f={key:n,first:null,c:function(){e=C("li"),_&&_.c(),l=V(),this.h()},l:function(m){e=S(m,"LI",{class:!0,"data-index":!0,"data-id":!0,draggable:!0});var p=A(e);_&&_.l(p),l=x(p),p.forEach(k),this.h()},h:function(){g(e,"class","border-2 border-dashed border-transparent p-2 transition-all max-w-md w-full s-bF1CfGpt5Wxa"),g(e,"data-index",s=t[11]),g(e,"data-id",o=t[9].id),g(e,"draggable","true"),Tt(e,"over",t[9].id===t[1]),L(e,Rt,55,6,1213),this.first=e},m:function(m,p){I(m,e,p),_&&_.m(e,null),O(e,l),c=!0,u||(r=[z(e,"dragstart",Yt,!1,!1,!1,!1),z(e,"dragover",ft(t[2]),!1,!0,!1,!1),z(e,"dragleave",t[3],!1,!1,!1,!1),z(e,"drop",ft(t[4]),!1,!0,!1,!1)],u=!0)},p:function(m,p){t=m,_&&_.p&&(!c||p&33)&&oe(_,h,t,t[5],c?ie(h,t[5],p,Se):le(t[5]),xt),(!c||p&1&&s!==(s=t[11]))&&g(e,"data-index",s),(!c||p&1&&o!==(o=t[9].id))&&g(e,"data-id",o),(!c||p&3)&&Tt(e,"over",t[9].id===t[1])},r:function(){i=e.getBoundingClientRect()},f:function(){we(e),d()},a:function(){d(),d=ve(e,i,Jt,{duration:300})},i:function(m){c||(q(_,m),c=!0)},o:function(m){H(_,m),c=!1},d:function(m){m&&k(e),_&&_.d(m),u=!1,yt(r)}};return U("SvelteRegisterBlock",{block:f,id:dt.name,type:"each",source:"(43:4) {#each list as item, index (item.id)}",ctx:t}),f}function mt(n){let t,e,l,s;const o=[Wt,Kt],i=[];function d(u,r){var h;return(h=u[0])!=null&&h.length?0:1}t=d(n),e=i[t]=o[t](n);const c={c:function(){e.c(),l=st()},l:function(r){e.l(r),l=st()},m:function(r,h){i[t].m(r,h),I(r,l,h),s=!0},p:function(r,[h]){let _=t;t=d(r),t===_?i[t].p(r,h):(vt(),H(i[_],1,1,()=>{i[_]=null}),wt(),e=i[t],e?e.p(r,h):(e=i[t]=o[t](r),e.c()),q(e,1),e.m(l.parentNode,l))},i:function(r){s||(q(e),s=!0)},o:function(r){H(e),s=!1},d:function(r){r&&k(l),i[t].d(r)}};return U("SvelteRegisterBlock",{block:c,id:mt.name,type:"component",source:"",ctx:n}),c}function W(n){return n.dataset.index?{...n.dataset}:W(n.parentNode)}function Yt(n){var e;const t=W(n.target);(e=n.dataTransfer)==null||e.setData("source",t==null?void 0:t.index.toString())}function Le(n,t,e){let{$$slots:l={},$$scope:s}=t;qt("SortableList",l,["default"]);let{list:o}=t,i=!1;const d=Et();function c(f){var m;(m=f.target.dataset)==null||m.id;const a=W(f.target);e(1,i=(a==null?void 0:a.id)??!1)}function u(f){const a=W(f.target);i===a.id&&e(1,i=!1)}function r(f){var m;e(1,i=!1);const a=W(f.target);h({from:(m=f.dataTransfer)==null?void 0:m.getData("source"),to:a.index})}const h=({from:f,to:a})=>{const m=[...o];m[f]=[m[a],m[a]=m[f]][0],d("sort",m)};n.$$.on_mount.push(function(){o===void 0&&!("list"in t||n.$$.bound[n.$$.props.list])&&console.warn("<SortableList> was created without expected prop 'list'")});const _=["list"];return Object.keys(t).forEach(f=>{!~_.indexOf(f)&&f.slice(0,2)!=="$$"&&f!=="slot"&&console.warn(`<SortableList> was created with unknown prop '${f}'`)}),n.$$set=f=>{"list"in f&&e(0,o=f.list),"$$scope"in f&&e(5,s=f.$$scope)},n.$capture_state=()=>({flip:Jt,createEventDispatcher:Et,list:o,isOver:i,dispatch:d,getDraggedParent:W,onDragStart:Yt,onDragOver:c,onDragLeave:u,onDrop:r,reorder:h}),n.$inject_state=f=>{"list"in f&&e(0,o=f.list),"isOver"in f&&e(1,i=f.isOver)},t&&"$$inject"in t&&n.$inject_state(t.$$inject),[o,i,c,u,r,s,l]}class Qt extends Mt{constructor(t){super(t),zt(this,t,Le,mt,Ft,{list:0}),U("SvelteRegisterComponent",{component:this,tagName:"SortableList",options:t,id:mt.name})}get list(){throw new Error("<SortableList>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set list(t){throw new Error("<SortableList>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const P="G:/PersonalProjects/myapp/src/routes/[username]/edit/+page.svelte";function At(n,t,e){const l=n.slice();return l[24]=t[e],l}function ht(n){var _;let t,e="Edit your Profile",l,s,o,i,d;s=new Qt({props:{list:(_=n[3])==null?void 0:_.links,$$slots:{default:[Xt,({item:f,index:a})=>({27:f,28:a}),({item:f,index:a})=>(f?134217728:0)|(a?268435456:0)]},$$scope:{ctx:n}},$$inline:!0}),s.$on("sort",n[14]);function c(f,a){return f[4]?$t:Zt}let u=c(n),r=u(n);const h={c:function(){t=C("h1"),t.textContent=e,l=V(),Ct(s.$$.fragment),o=V(),r.c(),i=st(),this.h()},l:function(a){t=S(a,"H1",{class:!0,"data-svelte-h":!0}),G(t)!=="svelte-zzls1r"&&(t.textContent=e),l=x(a),St(s.$$.fragment,a),o=x(a),r.l(a),i=st(),this.h()},h:function(){g(t,"class","mx-2 text-2xl font-bold mt-8 mb-4 text-center"),L(t,P,85,6,1898)},m:function(a,m){I(a,t,m),I(a,l,m),Lt(s,a,m),I(a,o,m),r.m(a,m),I(a,i,m),d=!0},p:function(a,m){var w;const p={};m&8&&(p.list=(w=a[3])==null?void 0:w.links),m&671088640&&(p.$$scope={dirty:m,ctx:a}),s.$set(p),u===(u=c(a))&&r?r.p(a,m):(r.d(1),r=u(a),r&&(r.c(),r.m(i.parentNode,i)))},i:function(a){d||(q(s.$$.fragment,a),d=!0)},o:function(a){H(s.$$.fragment,a),d=!1},d:function(a){a&&(k(t),k(l),k(o),k(i)),Bt(s,a),r.d(a)}};return U("SvelteRegisterBlock",{block:h,id:ht.name,type:"if",source:"(79:4) {#if $userData?.username == $page.params.username}",ctx:n}),h}function Xt(n){let t,e,l,s,o="Delete",i,d,c;const u=[n[27]];let r={};for(let f=0;f<u.length;f+=1)r=re(r,u[f]);e=new Gt({props:r,$$inline:!0});function h(){return n[16](n[27])}const _={c:function(){t=C("div"),Ct(e.$$.fragment),l=V(),s=C("button"),s.textContent=o,this.h()},l:function(a){t=S(a,"DIV",{class:!0});var m=A(t);St(e.$$.fragment,m),l=x(m),s=S(m,"BUTTON",{class:!0,"data-svelte-h":!0}),G(s)!=="svelte-1n5cbwc"&&(s.textContent=o),m.forEach(k),this.h()},h:function(){g(s,"class","btn btn-xs btn-error invisible group-hover:visible transition-all absolute -right-6 bottom-10"),L(s,P,97,10,2210),g(t,"class","group relative"),L(t,P,95,8,2136)},m:function(a,m){I(a,t,m),Lt(e,t,null),O(t,l),O(t,s),i=!0,d||(c=z(s,"click",h,!1,!1,!1,!1),d=!0)},p:function(a,m){n=a;const p=m&134217728?ge(u,[ke(n[27])]):{};e.$set(p)},i:function(a){i||(q(e.$$.fragment,a),i=!0)},o:function(a){H(e.$$.fragment,a),i=!1},d:function(a){a&&k(t),Bt(e),d=!1,c()}};return U("SvelteRegisterBlock",{block:_,id:Xt.name,type:"slot",source:"(84:6) <SortableList          list={$userData?.links}          on:sort={sortList}          let:item          let:index        >",ctx:n}),_}function Zt(n){let t,e="Add a Link",l,s,o,i,d,c,u,r,h,_,f="Sign out",a,m;const p={c:function(){t=C("button"),t.textContent=e,l=V(),s=C("button"),o=C("a"),i=ot("Edit Bio"),d=V(),c=C("button"),u=C("a"),r=ot("How others see your profile"),h=V(),_=C("button"),_.textContent=f,this.h()},l:function(y){t=S(y,"BUTTON",{class:!0,"data-svelte-h":!0}),G(t)!=="svelte-1l5hg7j"&&(t.textContent=e),l=x(y),s=S(y,"BUTTON",{class:!0});var B=A(s);o=S(B,"A",{href:!0});var F=A(o);i=lt(F,"Edit Bio"),F.forEach(k),B.forEach(k),d=x(y),c=S(y,"BUTTON",{class:!0});var R=A(c);u=S(R,"A",{href:!0});var T=A(u);r=lt(T,"How others see your profile"),T.forEach(k),R.forEach(k),h=x(y),_=S(y,"BUTTON",{class:!0,"data-svelte-h":!0}),G(_)!=="svelte-1t7w68m"&&(_.textContent=f),this.h()},h:function(){g(t,"class","btn btn-outline btn-info block mx-auto my-4"),L(t,P,156,8,4006),g(o,"href",n[6]),L(o,P,163,10,4256),g(s,"class","btn btn-outline btn-info block mx-auto my-4"),L(s,P,162,8,4184),g(u,"href",n[5]),L(u,P,166,10,4379),g(c,"class","btn btn-outline btn-info block mx-auto my-4"),L(c,P,165,8,4307),g(_,"class","btn btn-warning block mx-auto my-4"),L(_,P,168,8,4457)},m:function(y,B){I(y,t,B),I(y,l,B),I(y,s,B),O(s,o),O(o,i),I(y,d,B),I(y,c,B),O(c,u),O(u,r),I(y,h,B),I(y,_,B),a||(m=[z(t,"click",n[20],!1,!1,!1,!1),z(_,"click",n[21],!1,!1,!1,!1)],a=!0)},p:function(y,B){B&64&&g(o,"href",y[6]),B&32&&g(u,"href",y[5])},d:function(y){y&&(k(t),k(l),k(s),k(d),k(c),k(h),k(_)),a=!1,yt(m)}};return U("SvelteRegisterBlock",{block:p,id:Zt.name,type:"else",source:"(150:6) {:else}",ctx:n}),p}function $t(n){let t,e,l,s,o,i,d,c,u,r,h,_,f,a,m,p,w="Cancel",y,B,F=it(n[9]),R=[];for(let M=0;M<F.length;M+=1)R[M]=_t(At(n,F,M));let T=!n[0]&&pt(n),N=!n[1]&&bt(n),j=n[7]&&gt(n);const X={c:function(){t=C("form"),e=C("select");for(let v=0;v<R.length;v+=1)R[v].c();l=V(),s=C("input"),o=V(),i=C("input"),d=V(),c=C("div"),T&&T.c(),u=V(),N&&N.c(),r=V(),j&&j.c(),h=V(),_=C("button"),f=ot("Add Link"),m=V(),p=C("button"),p.textContent=w,this.h()},l:function(v){t=S(v,"FORM",{class:!0});var E=A(t);e=S(E,"SELECT",{name:!0,class:!0});var D=A(e);for(let Y=0;Y<R.length;Y+=1)R[Y].l(D);D.forEach(k),l=x(E),s=S(E,"INPUT",{name:!0,type:!0,placeholder:!0,class:!0}),o=x(E),i=S(E,"INPUT",{name:!0,type:!0,placeholder:!0,class:!0}),d=x(E),c=S(E,"DIV",{class:!0});var b=A(c);T&&T.l(b),u=x(b),N&&N.l(b),r=x(b),j&&j.l(b),b.forEach(k),h=x(E),_=S(E,"BUTTON",{type:!0,class:!0});var J=A(_);f=lt(J,"Add Link"),J.forEach(k),m=x(E),p=S(E,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),G(p)!=="svelte-xg6r79"&&(p.textContent=w),E.forEach(k),this.h()},h:function(){g(e,"name","icon"),g(e,"class","select select-sm"),n[2].icon===void 0&&ce(()=>n[17].call(e)),L(e,P,110,10,2629),g(s,"name","title"),g(s,"type","text"),g(s,"placeholder","Title"),g(s,"class","input input-sm"),L(s,P,119,10,2908),g(i,"name","url"),g(i,"type","text"),g(i,"placeholder","URL"),g(i,"class","input input-sm"),L(i,P,126,10,3102),g(c,"class","my-4"),L(c,P,133,10,3290),_.disabled=a=!n[7],g(_,"type","submit"),g(_,"class","btn btn-success block"),L(_,P,145,10,3697),g(p,"type","button"),g(p,"class","btn btn-xs my-4"),L(p,P,151,10,3855),g(t,"class","bg-base-200 p-6 w-full mx-auto rounded-xl"),L(t,P,106,8,2494)},m:function(v,E){I(v,t,E),O(t,e);for(let D=0;D<R.length;D+=1)R[D]&&R[D].m(e,null);Dt(e,n[2].icon,!0),O(t,l),O(t,s),Q(s,n[2].title),O(t,o),O(t,i),Q(i,n[2].url),O(t,d),O(t,c),T&&T.m(c,null),O(c,u),N&&N.m(c,null),O(c,r),j&&j.m(c,null),O(t,h),O(t,_),O(_,f),O(t,m),O(t,p),y||(B=[z(e,"change",n[17]),z(s,"input",n[18]),z(i,"input",n[19]),z(p,"click",n[13],!1,!1,!1,!1),z(t,"submit",ft(n[11]),!1,!0,!1,!1)],y=!0)},p:function(v,E){if(E&512){F=it(v[9]);let D;for(D=0;D<F.length;D+=1){const b=At(v,F,D);R[D]?R[D].p(b,E):(R[D]=_t(b),R[D].c(),R[D].m(e,null))}for(;D<R.length;D+=1)R[D].d(1);R.length=F.length}E&516&&Dt(e,v[2].icon),E&516&&s.value!==v[2].title&&Q(s,v[2].title),E&516&&i.value!==v[2].url&&Q(i,v[2].url),v[0]?T&&(T.d(1),T=null):T||(T=pt(v),T.c(),T.m(c,u)),v[1]?N&&(N.d(1),N=null):N||(N=bt(v),N.c(),N.m(c,r)),v[7]?j||(j=gt(v),j.c(),j.m(c,null)):j&&(j.d(1),j=null),E&128&&a!==(a=!v[7])&&be(_,"disabled",a)},d:function(v){v&&k(t),ue(R,v),T&&T.d(),N&&N.d(),j&&j.d(),y=!1,yt(B)}};return U("SvelteRegisterBlock",{block:X,id:$t.name,type:"if",source:"(100:6) {#if showForm}",ctx:n}),X}function _t(n){let t,e=n[24]+"",l;const s={c:function(){t=C("option"),l=ot(e),this.h()},l:function(i){t=S(i,"OPTION",{});var d=A(t);l=lt(d,e),d.forEach(k),this.h()},h:function(){t.__value=n[24].toLowerCase(),Q(t,t.__value),L(t,P,116,14,2804)},m:function(i,d){I(i,t,d),O(t,l)},p:K,d:function(i){i&&k(t)}};return U("SvelteRegisterBlock",{block:s,id:_t.name,type:"each",source:"(110:12) {#each icons as icon}",ctx:n}),s}function pt(n){let t,e="Must have valid title";const l={c:function(){t=C("p"),t.textContent=e,this.h()},l:function(o){t=S(o,"P",{class:!0,"data-svelte-h":!0}),G(t)!=="svelte-1clkdjx"&&(t.textContent=e),this.h()},h:function(){g(t,"class","text-error text-xs"),L(t,P,135,14,3357)},m:function(o,i){I(o,t,i)},d:function(o){o&&k(t)}};return U("SvelteRegisterBlock",{block:l,id:pt.name,type:"if",source:"(129:12) {#if !titleIsValid}",ctx:n}),l}function bt(n){let t,e="Must have a valid URL";const l={c:function(){t=C("p"),t.textContent=e,this.h()},l:function(o){t=S(o,"P",{class:!0,"data-svelte-h":!0}),G(t)!=="svelte-ckpz19"&&(t.textContent=e),this.h()},h:function(){g(t,"class","text-error text-xs"),L(t,P,138,14,3478)},m:function(o,i){I(o,t,i)},d:function(o){o&&k(t)}};return U("SvelteRegisterBlock",{block:l,id:bt.name,type:"if",source:"(132:12) {#if !urlIsValid}",ctx:n}),l}function gt(n){let t,e="Looks good!";const l={c:function(){t=C("p"),t.textContent=e,this.h()},l:function(o){t=S(o,"P",{class:!0,"data-svelte-h":!0}),G(t)!=="svelte-18u4utf"&&(t.textContent=e),this.h()},h:function(){g(t,"class","text-success text-xs"),L(t,P,141,14,3599)},m:function(o,i){I(o,t,i)},d:function(o){o&&k(t)}};return U("SvelteRegisterBlock",{block:l,id:gt.name,type:"if",source:"(135:12) {#if formIsValid}",ctx:n}),l}function te(n){var o;let t,e,l=((o=n[3])==null?void 0:o.username)==n[8].params.username&&ht(n);const s={c:function(){t=C("main"),l&&l.c(),this.h()},l:function(d){t=S(d,"MAIN",{class:!0});var c=A(t);l&&l.l(c),c.forEach(k),this.h()},h:function(){g(t,"class","max-w-xl mx-auto"),L(t,P,83,2,1803)},m:function(d,c){I(d,t,c),l&&l.m(t,null),e=!0},p:function(d,c){var u;((u=d[3])==null?void 0:u.username)==d[8].params.username?l?(l.p(d,c),c&264&&q(l,1)):(l=ht(d),l.c(),q(l,1),l.m(t,null)):l&&(vt(),H(l,1,1,()=>{l=null}),wt())},i:function(d){e||(q(l),e=!0)},o:function(d){H(l),e=!1},d:function(d){d&&k(t),l&&l.d()}};return U("SvelteRegisterBlock",{block:s,id:te.name,type:"slot",source:"(77:0) <AuthCheck>",ctx:n}),s}function kt(n){let t,e;t=new Ht({props:{$$slots:{default:[te]},$$scope:{ctx:n}},$$inline:!0});const l={c:function(){Ct(t.$$.fragment)},l:function(o){St(t.$$.fragment,o)},m:function(o,i){Lt(t,o,i),e=!0},p:function(o,[i]){const d={};i&536871423&&(d.$$scope={dirty:i,ctx:o}),t.$set(d)},i:function(o){e||(q(t.$$.fragment,o),e=!0)},o:function(o){H(t.$$.fragment,o),e=!1},d:function(o){Bt(t,o)}};return U("SvelteRegisterBlock",{block:l,id:kt.name,type:"component",source:"",ctx:n}),l}function Be(n,t,e){let l,s,o,i,d,c,u,r,h;Z(ct,"user"),$(n,ct,b=>e(22,c=b)),Z(rt,"userData"),$(n,rt,b=>e(3,r=b)),Z(at,"page"),$(n,at,b=>e(8,h=b));let{$$slots:_={},$$scope:f}=t;qt("Page",_,[]);const a=["Twitter","YouTube","TikTok","LinkedIn","GitHub","Instagram","Custom"],m={icon:"custom",title:"",url:"https://"},p=Vt(m);Z(p,"formData"),$(n,p,b=>e(2,u=b));let w=!1;async function y(b){const J=et(tt,"users",c.uid);await ut(J,{links:jt({...u,id:Date.now().toString()})}),p.set({icon:"",title:"",url:""}),e(4,w=!1)}async function B(b){const J=et(tt,"users",c.uid);await ut(J,{links:Nt(b)})}function F(){p.set(m),e(4,w=!1)}function R(b){const J=b.detail,Y=et(tt,"users",c.uid);Ut(Y,{links:J},{merge:!0})}async function T(){await fetch("/api/signin",{method:"DELETE"}),await Pt(It)}const N=[];Object.keys(t).forEach(b=>{!~N.indexOf(b)&&b.slice(0,2)!=="$$"&&b!=="slot"&&console.warn(`<Page> was created with unknown prop '${b}'`)});const j=b=>B(b);function X(){u.icon=ae(this),p.set(u),e(9,a)}function M(){u.title=this.value,p.set(u),e(9,a)}function v(){u.url=this.value,p.set(u),e(9,a)}const E=()=>e(4,w=!0),D=()=>T();return n.$capture_state=()=>({page:at,UserLink:Gt,SortableList:Qt,db:tt,userData:rt,user:ct,auth:It,signOut:Pt,arrayRemove:Nt,arrayUnion:jt,doc:et,setDoc:Ut,updateDoc:ut,writable:Vt,AuthCheck:Ht,icons:a,formDefaults:m,formData:p,showForm:w,addLink:y,deleteLink:B,cancelLink:F,sortList:R,signOutSSR:T,profile:d,href:i,titleIsValid:s,urlIsValid:l,formIsValid:o,$user:c,$formData:u,$userData:r,$page:h}),n.$inject_state=b=>{"showForm"in b&&e(4,w=b.showForm),"profile"in b&&e(5,d=b.profile),"href"in b&&e(6,i=b.href),"titleIsValid"in b&&e(0,s=b.titleIsValid),"urlIsValid"in b&&e(1,l=b.urlIsValid),"formIsValid"in b&&e(7,o=b.formIsValid)},t&&"$$inject"in t&&n.$inject_state(t.$$inject),n.$$.update=()=>{n.$$.dirty&4&&e(1,l=u.url.match(/^(ftp|http|https):\/\/[^ "]+$/)),n.$$.dirty&4&&e(0,s=u.title.length<20&&u.title.length>0),n.$$.dirty&3&&e(7,o=l&&s),n.$$.dirty&8&&e(6,i=`/${r==null?void 0:r.username}/bio`),n.$$.dirty&8&&e(5,d=`/${r==null?void 0:r.username}`)},[s,l,u,r,w,d,i,o,h,a,p,y,B,F,R,T,j,X,M,v,E,D]}class je extends Mt{constructor(t){super(t),zt(this,t,Be,kt,Ft,{}),U("SvelteRegisterComponent",{component:this,tagName:"Page",options:t,id:kt.name})}}export{je as component};
